<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
    </style>
    <title>Place search pagination</title>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&libraries=places"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script>
        var map;
        var geocoder = new google.maps.Geocoder();
        var dest = "Vienna";
        var destination;
        var placeRequest = {}

        var directionsDisplay;
        var directionsService = new google.maps.DirectionsService();

        var attractions = [
          {
            "name": "Kunsthistorisches Museum",
            "location": "Kunsthistorisches Museum, Vienna"
          },
          {
            "name": "Historic Center of Vienna",
            "location": "Historic Center of Vienna, Vienna"
          },
          {
            "name": "The Third Man Museum",
            "location": "The Third Man Museum, Vienna"
          }
        ]
        
        geocoder.geocode( { 'address': dest}, function(pos, status) {
        if (status == google.maps.GeocoderStatus.OK) {
            //console.log (pos[0].geometry.location.k + " " + pos[0].geometry.location.B)
            destination = pos[0].geometry.location
            //map.setCenter(pos[0].geometry.location);
            console.log(destination)
            initialize();
            
        } 
    });

function initialize() {
  
    var placetogo = new google.maps.LatLng(destination.lat(), destination.lng());

    directionsDisplay = new google.maps.DirectionsRenderer();
    var mapOptions = {
      zoom: 13,
      center: new google.maps.LatLng(destination.lat(), destination.lng())
      //center: new google.maps.LatLng(41.850033, -87.6500523)
    };  

    var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
    directionsDisplay.setMap(map);
    directionsDisplay.setPanel(document.getElementById('directions-panel'));

}

function calcRoute() {
  var start = document.getElementById('start').value;
  var end = document.getElementById('end').value;



  var request = {
    origin: start,
    destination: end,
    travelMode: google.maps.TravelMode.WALKING
  };
  directionsService.route(request, function(response, status) {
    if (status == google.maps.DirectionsStatus.OK) {
      directionsDisplay.setDirections(response);
    }
  });
}





//google.maps.event.addDomListener(window, 'load', initialize);

    </script>
    <style>
      #results {
        font-family: Arial, Helvetica, sans-serif;
        position: absolute;
        right: 5px;
        top: 0;
        bottom:0;
        width: 300px;
        padding: 5px;
        z-index: 5;
        background: #fff;
          overflow-y: scroll;
      }
      h2 {
        font-size: 22px;
        margin: 0 0 5px 0;
      }
      ul {
        list-style-type: none;
        padding: 0;
        margin: 0;
        
      }
      li {
        background-color: #f1f1f1;
        padding: 10px;
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
      }
      li:nth-child(odd) {
        background-color: #ffffff;
      }
        
        li span.type {font-size: 12px; color:#999;}
      #more {
        width: 100%;
        margin: 5px 0 0 0;
      }
    </style>
  </head>
  <body>
    <div id="map-canvas"></div>
    <div id="results">
      <h2>Directions</h2>
      <div style="margin-bottom:8px;"><label style="display:inline-block; width:40px">Start:</label>
      <select id="start" onchange="calcRoute();">
        <option value="Kunsthistorisches Museum, Vienna">Kunsthistorisches Museum</option>
        <option value="Historic Center of Vienna, Vienna">Historic Center of Vienna</option>
        <option value="The Third Man Museum, Vienna">The Third Man Museum</option>
        <option value="Tiergarten Schoenbrunn, Vienna">Tiergarten Schoenbrunn - Zoo Vienna</option>
        
      </select>
    </div>
    <div>
      <label style="display:inline-block; width:40px">End:</label>
      <select id="end" onchange="calcRoute();">
        <option value="Kunsthistorisches Museum, Vienna">Kunsthistorisches Museum</option>
        <option value="Historic Center of Vienna, Vienna">Historic Center of Vienna</option>
        <option value="The Third Man Museum, Vienna">The Third Man Museum</option>
        <option value="Tiergarten Schoenbrunn, Vienna">Tiergarten Schoenbrunn - Zoo Vienna</option>
        

        
      </select>
     </div>
      <div id="directions-panel" style="height:300px;"></div>

    </div>
  </body>
</html>