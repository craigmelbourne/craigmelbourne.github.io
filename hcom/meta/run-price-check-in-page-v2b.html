<!DOCTYPE html>

<html lang="en">
	<head>
		<title>940 grid</title>
		<link rel="stylesheet" href="base.css" type="text/css">
		<style type="text/css">
			
			.arrow_box {
				position: absolute;
				width:130px;
				background: #ffffff;
				border: 1px solid #000000;
				z-index:1000;
				display:none;
				-moz-box-shadow: 0 0 5px #888; -webkit-box-shadow: 0 0 5px#888; box-shadow: 0 0 5px #888;
			}
			.arrow_box:after, .arrow_box:before {
				bottom: 100%;
				border: solid transparent;
				content: " ";
				height: 0;
				width: 0;
				position: absolute;
				pointer-events: none;
			}
			.arrow_box:after {
				border-color: rgba(255, 255, 255, 0);
				border-bottom-color: #ffffff;
				border-width: 12px;
				left: 50%;
				margin-left: -12px;
			}
			.arrow_box:before {
				border-color: rgba(0, 0, 0, 0);
				border-bottom-color: #000000;
				border-width: 13px;
				left: 50%;
				margin-left: -13px;
			}
			
		
			 ul.price_list li {padding:8px; border-top:solid 1px #eae8e0; font-size:13px; color:#102E79;}
			 ul.price_list li:last-child {border-bottom:solid 1px #dad8d0;}
			
			
			#pc_btn {font-size:12px; font-weight:bold; color:#102E79; padding:5px 0;  width:58px; text-align:center; position:absolute; top:18px;}
			#pc_btn:hover, #open_price_check{cursor:pointer}
			
			#open_price_check {font-size:12px; font-weight:bold; color:#102E79; padding:5px 0;  width:126px; text-align:center; position:absolute; bottom:8px; left:20px; padding:5px; background-color:#fff; border-radius:4px; }
			
			
			button.buy {
				background-color: rgb(16, 46, 121);
			
				border: 1px solid;
				border-image-source: initial;
				border-image-slice: initial;
				border-image-width: initial;
				border-image-outset: initial;
				border-image-repeat: initial;
				border-radius: 3px;
				box-shadow: rgb(0, 135, 219) 0px 0px 0px 1px, rgba(60, 163, 227, 0.298039) 1px 1px 0.5px 1px;
				color: rgb(255, 255, 255);
				cursor: pointer;
				display: inline-block;
				font-size: 18px;
				font-weight: bold;
				line-height: 1.5;
				overflow: visible;
				padding: 2px 10px;
				vertical-align: middle;
				width: auto;
			}
			
			
			.shadow {-moz-box-shadow: 0 0 8px #888; -webkit-box-shadow: 0 0 8px#888; box-shadow: 0 0 8px #888; margin-top:-5px; border:solid 2px #102E79 !important;}
			
			#right-triangle {
				position:absolute;
				right:-14px;
				top:20px;
			   width: 0;
			   height: 0;
			   border-left: 14px solid #102E79;
			   border-top: 7px solid transparent;
			   border-bottom: 7px solid transparent;
				z-index:2000;
				display:none;
			}
			
			h2{font-weight:bold;}
			
			#buybutton:hover {cursor:pointer;}
		</style>
		
		<script type="text/javascript" src="jquery.js"></script>
		
		<script type="text/javascript">
		var checked = 0;
			$(document).ready(function() {
			
			  	setTimeout(function(){
					positionArrowBox();
				}, 1000)
				

			
				$("#pc_btn").on("click", function(e){
					runSwitchPrice(e)
					
				}); 
				
				$("#open_price_check").on("click", function(e){
					$("#price_match_box").addClass("shadow");
					$(this).hide();
					$("#price_compare").show();
				});
				
				$(".close").on("click", function(e){
					e.preventDefault();
					$("#price_compare").hide();
					$("#right-triangle").hide();
					$("#price_match_box").removeClass("shadow");
					$("#open_price_check").show();
					
				}); 
				
				
				$("#buybutton").on("click", function(e){
					
					//runSwitchPrice(e)
				});

			
			});
			
			function positionArrowBox(){
				var pos = $("#pc_btn").offset();
				console.log (pos.left + " " + pos.top);
				$(".arrow_box").css({
				      "top": pos.top + 60,
				      "left": pos.left - 40
				    }).show();
				
			}
			
			function runSwitchPrice(e)
			{
				e.preventDefault();
				$(".arrow_box").hide();
				$("#price_match_box").addClass("shadow");
				$("#pc_btn").hide();
				$("#price_compare").show();
				if(checked == 0){
					switchPrice();
				}
				checked = 1;
			}
			
			
			function switchPrice()
			  {
			     	setTimeout(function() {
			        	//$('div.old').hide();
						//$('div.new').show();
						
						$("#price_compare li#1").fadeIn(500, function () {
						    $("#price_compare li#2").fadeIn(500, function (){
								$("#price_compare li#3").fadeIn(500, function (){
									$("#price_compare li#4").fadeIn(500, function (){
										$("#price_compare li#5").fadeIn(500, function (){
											
											$("#price_compare li#6").fadeIn(500, function (){

												$("#loading_prices").hide();
												$("#found_message").fadeIn('medium');
												
												$("#current_price").hide();
												$("#price_match").show();
												
												setTimeout(function(){
													$("#price_match").hide();
													$("#new_price").show();
													$("#right-triangle").show();
													$("#buybutton").hide();
												}, 2000)
												
											});
											
										});
									});
								});
							});
						});
						
					}, 2000);
			  }
			
		</script>
	</head>
	<body>
	
		<div id="pagebg">
			<div id="frame">
				<div id="grid">
	
					
					<div class="grid-12">
						<img src="i/details_cropped.png">
					</div>
					<div class="grid-12">
						<img src="i/room_table_header.png" style="">
					</div>
					
					<div class="grid-12" style="position:relative; overflow-x:visible;">
						<img src="i/room_details.png" style="">
						<div id="price_match_box" style="position:absolute; top:2px; right:94px; width:174px; min-height:176px; background-color:#fff; ">
							<div id="right-triangle" style="display:none;"></div>
							
							<div id="current_price" style="position:absolute; top:15px; right:12px; text-align:right;">
								<p style="font-size:14px; font-weight:bold;">Our lowest price</p>
								<p style="font-size:20px; margin:5px 0; color:#666; text-decoration:line-through">&pound;486</p>
								<p style="font-size:24px; color:#900; font-weight:bold;">&pound;330</p>
							</div>
							<div id="price_match" style="text-align:center; margin-top:25px; display:none; position:absolute; top:15px; right:12px; width:160px;">	
								<img src="i/103.gif"><br />
								<span style="font-size:12px;">Price matching</span>
							</div>
							<div id="new_price" style="position:absolute; top:10px; right:12px; text-align:right; display:none;">
								<p style="font-size:14px; font-weight:bold;">Our lowest price</p>
								<p style="font-size:20px; margin:5px 0; color:#666; text-decoration:line-through">&pound;486</p>
								<p style="font-size:24px; color:#900; font-weight:bold;">&pound;320</p>
							</div>
							
							
							
							<div id="open_price_check" style="display:none;">View other prices</div>
							
							<div id="buybutton" style="position:absolute; top:12px; right:-74px; width:64px; height:35px; background-color:#F5F4F0;">
								<button id="pc_btn" style="">Price Check</button>
							</div>
							
							
							<div id="price_compare" style="display:none; margin-top:100px;">
								<div style="padding:10px; height:40px; border-top:solid 1px #102E79;">
									 <p id="loading_prices" style="text-align:center; margin-top:0px;">	
										<img src="i/103.gif" /><br />
										<span style="font-size:12px;">Checking prices</span>
									</p>
									<p id="found_message" style="font-size:12px; line-height:130%; display:none;">Here are the lowest prices we could find for a room at this hotel</p>
								</div>
								<ul class="price_list">
									<li id="1" style="display:none;"><div style="float:right;">&pound;325</div>Agoda</li>
									<li id="2" style="display:none;"><div style="float:right;">&pound;340</div>LateRooms</li>
									<li id="3" style="display:none;"><div style="float:right;">&pound;343</div>Booking.com</li>
									<li id="4" style="display:none;"><div style="float:right;">&pound;350</div>LastMinute</li>
									<li id="5" style="display:none;"><div style="float:right;">&pound;350</div>Expedia</li>
									<li id="6" style="display:none; text-align:right;"><a href="#" class="close">Close</a></li>
								</ul>
							</div>
							
							
							
							
						</div>
						
						
						
						<div id="on_price_check" style="position:absolute; top:5px; right:94px; background-color:#d7e9ff; width:174px; height:174px; display:none;">
							<div style="-moz-box-shadow: 0 0 5px #888; -webkit-box-shadow: 0 0 5px#888; box-shadow: 0 0 5px #888; position:absolute; top:130px; left:8px; ">
								<div id="pc_btn" style="">Price Check</div>
								
							</div>
							
							
						</div>
						
						<!--
						-->
						
						
						
					</div>
					
					<div class="grid-12">
						<img src="i/room_details.png" style="">
					</div>
					<div class="grid-12" style="height:100px;">.</div>

					
				</div>
			<div>
		</div>
		
		<div class="arrow_box" style="display:none;">
			<div style="padding:10px; background-color:#fff ;">
				<p style="font-size:12px; line-height:130%;">Click Price Check to search prices across hundreds of travel sites. If we find a cheaper price we'll better/match it. <!--We check hundreds of prices so you don't have to. Just click Price Check to find the lowest price for this hotel.--></p></div>
		</div>
		
		
		
	</body>
</html>