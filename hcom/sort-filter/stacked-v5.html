<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Meta tags -->
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="mobile-web-app-capable" content="yes">

		<!-- style sheets -->
		<link rel="stylesheet" type="text/css" href="reset.css">
		<link rel="stylesheet" type="text/css" href="base-stacked-v2.css">
		<style type="text/css">

		</style>

		<!-- Scripts -->
		<!-- JQuery Google CDN -->
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

		<script type="text/javascript">

			// run things on page load
			$(function(){
				$( "#slider-range" ).slider({
      				range: true,
      				min: 0,
      				max: 500,
      				values: [ 0, 500 ],
      				slide: function( event, ui ) {
        				$( "#amount" ).text( "$" + ui.values[ 0 ] + " - $" + ui.values[ 1 ] );
        				$("#filter-price-range").addClass("selected")
      				}
    			});
    			$( "#amount" ).text( "$" + $( "#slider-range" ).slider( "values", 0 ) +
      				" - $" + $( "#slider-range" ).slider( "values", 1 ) );

    			$( "#guest-range" ).slider({
      				range: true,
      				min: 1,
      				max: 5,
      				values: [ 1, 5 ],
      				slide: function( event, ui ) {
        				$( "#guest-amount" ).text( "" + ui.values[ 0 ] + " - " + ui.values[ 1 ] );
      				}
    			});
    			$( "#guest-amount" ).text( "" + $( "#guest-range" ).slider( "values", 0 ) +
      				" - " + $( "#guest-range" ).slider( "values", 1 ) );

    			var elementPosition = $('#sort-filter-4').offset();

				$(window).scroll(function(){
        			if($(window).scrollTop() > elementPosition.top){
              			$('#sort-filter-4').addClass("filter-fixed-2");
        			} else {
            			$('#sort-filter-4').removeClass("filter-fixed-2");
        			}    
				});

				$(".check input[type=checkbox]").on("click", function(){

					if ($(this).is(":checked")){ 
						$(this).closest("li").addClass("selected");
					} else {
						$(this).closest("li").removeClass("selected");
					}
					
				});


				$("li.more").on("click", function(){
					$("#overlay").show();
					$("#menu").show();
					$(".menu-options").hide();
				});

				$("#overlay").on("click", function(){
					$("#overlay").hide();
					$("#menu").hide();
				});

				$(".arrow-down").on("click", function(){
					$(".menu-options").hide();
					$(this).siblings(".menu-options").show();
				});

				$(".close").on("click", function(e){
					e.preventDefault();
					$(this).closest(".menu-options").hide();
				});

				$("#menu input[type=checkbox").on("click", function(){
					var elem = $(this).closest("li").text();
					console.log(elem);
					//$("#secondary-filters-4").append("<li class='check selected'><input type='checkbox' checked />" + elem + "</li>");
					$("<li class='check selected'><input type='checkbox' checked />" + elem + "</li>").insertBefore("#secondary-filters-4 li:last-child")
				})
			});

		</script>

	</head>

	<body>

		<div id="head">
			<div>
				Head
			</div>		
		</div>
		<div id="nav">
			<div>
				nav
			</div>
				
		</div>

		<div id="search-strip">
			<div id="destination">San Francisco, California, United States of America</div>
			<div id="dates">Wed 22 - Thu 23 April 2015, 1 night, 1 room, 2 adults</div>
		</div>
		
		


			<style type="text/css">
			.arrow-down { display:inline-block; width: 0; height: 0; border-left: 4px solid transparent; border-right: 4px solid transparent;
			border-top: 8px solid #2088DB; vertical-align:top; margin-top:4px; margin-left:8px;}

			.arrow-down-white {display:inline-block; width: 0; height: 0; border-left: 4px solid transparent; border-right: 4px solid transparent;
			border-top: 8px solid #fff; vertical-align:top; margin-top:4px;}
			#search-strip {margin-bottom:0;}
			#wrapper {margin-top:0;}
			#sort-filter-4 {border-top:0; background-color:#F5F4F0;}
			#filters ul { border-top:0;}
			#primary-filters-2 li {padding:8px 0;}
			#secondary-filters-4 li {box-sizing:border-box; display:inline-block; padding:8px 0px; vertical-align: top;  font-size:14px; margin-right:4px; padding:8px 16px 8px 8px; background-color:#fff; border:solid 1px #ddd; height:36px; margin-bottom:8px;}

			#secondary-filters-4 li.selected {background-color:#2088DB; color:#fff;}

			#filter-price-range, #filter-guest-rating, #filter-star-rating {position:relative;}
			.menu-options {position:absolute; top:36px; left:0; width:250px; background-color:#fff; z-index:1000; border:solid 1px #ddd; padding:16px; display:none;}

			@media only screen and (min-width:1160px) {
				.filter-fixed-2 {position:fixed; top:0; left:0; right:0;}
			}
	
			</style>
			
			<div id="sort-filter-4">

				

				<div id="filters-button">
					Filters
				</div>
				<div id="filters" style="max-width:1160px; margin: 0 auto; box-sizing:border-box; border-top:solid 1px #ddd;">
					<!--<div style="background-color:#555; color:#fff; padding:8px; font-size:12px">Narrow your search</div>-->

					
					

					<div>
						<ul id="primary-filters-2">
							<li id="filter-title" style="width:100%;">
								<p style="font-size:14px; margin-top:4px; display:inline-block"><strong style="font-weight:bold">Filter your results</strong> - message to encourage filter usage</p>
							</li>
							
						</ul>
					</div>

					<ul id="secondary-filters-4" style="display:inline;">

						
								<li id="filter-price-range" style="position:relative;">
									Price range: <span id="amount">$0 - $500</span>
									<div class="arrow-down"></div>
									<div class="menu-options">
										<div id="slider-range"></div>
										<div style="text-align:right; padding-top:8px;"><a href="#" class="close">Close</a></div>
									</div>

								</li>
								<li id="filter-guest-rating">Guest rating: <span id="guest-amount"></span>
									<div class="arrow-down"></div>
									<div class="menu-options">
										<div id="guest-range"></div>
										<div style="text-align:right; padding-top:8px;"><a href="#" class="close">Close</a></div>
									</div>
								</li>
								<li id="filter-star-rating">Star rating: Any <div class="arrow-down"></div></li>
								<li class="check"><input type="checkbox" />City center</li>
								<li class="check"><input type="checkbox" />Free Wi-fi</li>
								<li class="check"><input type="checkbox" />Free Breakfast</li>
								<li class="check"><input type="checkbox" />Parking</li>
								
								<li class="more" style="background-color:transparent; border:0; padding-top:10px; color:#2088DB">All filter options</li>
							
						
					</ul>

					<div id="sort-bar-2" style="overflow:hidden; padding:8px 0px; border-top:1px solid #ddd; box-sizing:border-box; margin-top:0px">
					<div id="filter-button" style="float:left;">
					<label style="font-size:14px">Name contains</label>
								<div style="display:inline-block"><input type="text"/><button>Go</button></div>
						
					</div>
					<div id="sort-tool" style="float:right; font-size:14px; padding-top:4px">
						Sort by: 
							<select style="width:auto;">
								<option>Price (low to high)</option>
								<option>Price (high to low)</option>
							</select>
						
						
					</div>
					

			</div>

				</div>
				

				
				<!--<div id="filters-clear" style="float:left; width:120px; background-color:#eee; height:52px; box-sizing:border-box; font-size:12px; padding:8px; text-align:center; border-left:solid 1px #ccc">
					<div style="margin-bottom:8px"><a href="#">Clear all filters X</a></div>
					<div><a href="#">More filters</a> <div class="arrow-down"></div></div>
				</div>-->
				
				<!--<div id="sort" style="">
				<div style="box-sizing:border-box; padding:16px 16px; margin-bottom:8px; background-color:#eee; height:60px; color:#999; font-size:12px">
						A map link or shortlist tool could live here maybe.
					</div>	
					<ul style="background-color:#eee;">
						<li>
							<label style="">Sort By</label>
							<select style="">
								<option>Price (low to high)</option>
								<option>Price (high to low)</option>
							</select>



						</li>
					</ul>

					
				</div>-->
			</div>

			<div id="wrapper">
			<div id="results" style="margin-top:32px;">
				<div style="padding:16px; border:solid 1px #eee; margin-bottom:16px; height:80px">A search result</div>
				<div style="padding:16px; border:solid 1px #eee; margin-bottom:16px; height:80px">A search result</div>
				<div style="padding:16px; border:solid 1px #eee; margin-bottom:16px; height:80px">A search result</div>
				<div style="padding:16px; border:solid 1px #eee; margin-bottom:16px; height:80px">A search result</div>
				<div style="padding:16px; border:solid 1px #eee; margin-bottom:16px; height:80px">A search result</div>
				<div style="padding:16px; border:solid 1px #eee; margin-bottom:16px; height:80px">A search result</div>
				<div style="padding:16px; border:solid 1px #eee; margin-bottom:16px; height:80px">A search result</div>
				<div style="padding:16px; border:solid 1px #eee; margin-bottom:16px; height:80px">A search result</div>
				<div style="padding:16px; border:solid 1px #eee; margin-bottom:16px; height:80px">A search result</div>
				<div style="padding:16px; border:solid 1px #eee; margin-bottom:16px; height:80px">A search result</div>
				<div style="padding:16px; border:solid 1px #eee; margin-bottom:16px; height:80px">A search result</div>
				<div style="padding:16px; border:solid 1px #eee; margin-bottom:16px; height:80px">A search result</div>
				<div style="padding:16px; border:solid 1px #eee; margin-bottom:16px; height:80px">A search result</div>
				<div style="padding:16px; border:solid 1px #eee; margin-bottom:16px; height:80px">A search result</div>
				<div style="padding:16px; border:solid 1px #eee; margin-bottom:16px; height:80px">A search result</div>
				<div style="padding:16px; border:solid 1px #eee; margin-bottom:16px; height:80px">A search result</div>
				
			</div>

		</div> 

		<div id="overlay" style="position:fixed; top:0; right:0; bottom:0; left:0; background-color:#000; opacity:0.8; display:none;"></div>

		<style type="text/css">
			#menu label {display:block; padding:8px 0; border-top:solid 1px #ddd; font-weight:bold;}
			.options ul li {font-size:14px; margin-bottom:4px;}
		</style>

		<div id="menu" style="position:fixed; top:0; right:0; bottom:0; width:300px; background-color:#fff; padding:16px;  display:none; overflow-y:scroll;">
			<h2 style="margin-bottom:16px">Filters</h2>

			<ul>
				<li id="filter-facilities"><label>Facilities</label>
						<div class="options" style="">
							<ul>
										<li><input type="checkbox" /> Airport transfers</li>
										<li><input type="checkbox" /> Bar</li>
										<li><input type="checkbox" /> Bathtub in room</li>
										<li><input type="checkbox" /> Business facilities</li>
										<li><input type="checkbox" /> Child care</li>
										<li><input type="checkbox" /> Connecting rooms available</li>
										<li><input type="checkbox" /> Cribs available</li>
										<li><input type="checkbox" /> Free breakfast</li>
										<li><input type="checkbox" /> Free parking</li>
										<li><input type="checkbox" /> Free Wi-fi</li>
										<li><input type="checkbox" /> Gym</li>
										<li><input type="checkbox" /> Internet access</li>
										<li><input type="checkbox" /> Meeting facilities</li>
										<li><input type="checkbox" /> Non-smoking</li>
										<li><input type="checkbox" /> Parking available</li>
										<li><input type="checkbox" /> Pet friendly</li>
										<li><input type="checkbox" /> Pool</li>
										<li><input type="checkbox" /> Restaurant</li>
										<li><input type="checkbox" /> Smoking areas</li>
										<li><input type="checkbox" /> Spa</li>
									</ul>
						</div>
					</li>
				<li id="filter-neighbourhoods">
						<label>Neighbourhood</label>
						<div class="options" style="">
							<ul>
										<li><input type="checkbox" /> Union Square</li>
										<li><input type="checkbox" /> Fishermans wharf</li>
										<li><input type="checkbox" /> Financial District - Ferry building</li>
										<li><input type="checkbox" /> South Market</li>
										<li><input type="checkbox" /> Marina District</li>
										<li><input type="checkbox" /> Civic Center</li>
										<li><input type="checkbox" /> Chinatown</li>
									</ul>
						</div></li>
				<li id="filter-landmarks">
						<label>Landmarks</label>
						<div class="options">
							<ul>
										<li><input type="checkbox" /> City centre</li>
										<li><input type="checkbox" /> San Francisco International Airport (SFO)‎</li>
										<li><input type="checkbox" /> Oakland, CA (OAK-Oakland Intl.)‎</li>
										<li><input type="checkbox" /> AT&T Park‎</li>
										<li><input type="checkbox" /> Moscone Convention Center‎</li>
										<li><input type="checkbox" /> Downtown San Francisco‎</li>
										<li><input type="checkbox" /> Pier 39‎</li>
										<li><input type="checkbox" /> Fishermans Wharf Cable Car Turnaround‎</li>
										<li><input type="checkbox" /> Lombard Street‎</li>
										<li><input type="checkbox" /> Golden Gate Park‎</li>
										<li><input type="checkbox" /> Golden Gate Bridge‎</li>
										<li><input type="checkbox" /> Embarcadero‎</li>
										<li><input type="checkbox" /> Mission District‎</li>
										<li><input type="checkbox" /> San Francisco State University‎</li>
										<li><input type="checkbox" /> Aquarium of the Bay‎</li>
										<li><input type="checkbox" /> Alcatraz Island‎</li>
										<li><input type="checkbox" /> Ocean Beach</li>
										<li><input type="checkbox" /> San Francisco Zoo‎</li>
										<li><input type="checkbox" /> Warfield Theater‎</li>
										<li><input type="checkbox" /> San Francisco City Hall‎</li>
									</ul>
						</div>
					</li>
			</ul>
		</div>

	</body>
</html>
