<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Meta tags -->
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="mobile-web-app-capable" content="yes">

		<!-- style sheets -->

		<link rel="stylesheet" type="text/css" href="comm/on.css">
		<script src="https://use.fontawesome.com/37c289f6f2.js"></script>
	</head>

	<body>

	<style type="text/css">
		body {margin:0; padding:0; font-family: "Helvetica Neue"; background-color:#f5f4f0;}
		ul {list-style-type: none; padding:0; margin:0;}
		#header-wrapper {background-color: #d41200; height:184px; position:absolute; left:0; right:0; top:0; z-index:-1;}	
		#header-content {max-width:1100px; margin:0 auto; color:#fff;}	
		#header-content h1 {margin:0; padding:0; float:left;}
		#header-content .phone {padding:8px 0; float:left;}
		#header-content .link {font-size:13px;}
		#tp-wrapper {background-color: ; position:absolute; left:0; right:0; top:130px; z-index:-1; height:90px;}	
		#tp-content {max-width:1100px; margin:60px auto;}	
		#sqm {position:relative; max-width:1100px; margin:0 auto; background-color:#d41200; margin-top:94px; box-sizing: border-box;  z-index:1000; border-top:solid 1px #fff; padding-top:16px;}

		#tp-strip {position:relative; max-width:1100px; margin:-12px auto; background-color:#fff; box-sizing: border-box; padding:20px 16px; background-color:#026dc5; border-radius:4px;}

		#sqm .field {display:inline-block;padding:0 12px 0 0; box-sizing:border-box; }
		
		#sqm .field label.sqm {display:block; margin-bottom:8px;  font-size:13px; color:#fff;}
		#sqm .field input[type="text"] {font-size:16px; width:calc(100% - 16px); border:0; font-family:arial; padding:8px; border-radius:4px; 
  box-shadow: inset 0 1px 2px rgba(0,0,0,.39)}
		#sqm .date {background: url("cal.png") no-repeat #fff center right;}

		ul.main-links li {display: inline-block; padding-top:16px; margin-left:20px;}

		#page-wrapper {max-width:1100px; margin:30px auto 0; }
		#page-wrapper #filters {width:250px; height:600px; border-radius: 4px; display:inline-block; vertical-align: top;}
		#page-wrapper #filters h2 {font-size:18px; padding:0; margin:0 0 0 0;}
		#page-wrapper #filters p {font-size:14px; padding:0; margin:4px 0 8px 0;}
		#page-wrapper #filters > div { padding: 8px 0;}
		#page-wrapper #filters input[type="text"] {font-size:12px; width:calc(100% - 48px); border:0; font-family:arial; padding:8px; border-radius:4px; 
  box-shadow: inset 0 1px 2px rgba(0,0,0,.39)}
		#page-wrapper #filters h3 {font-size:14px; padding:0; margin:0 0 8px 0;}
		#page-wrapper #filters ul.stars li {color:#d41200; font-size:14px;}


		#page-wrapper #content {width:calc(100% - 274px); display:inline-block; vertical-align: top; margin-left:16px;}
		#page-wrapper #content .card {background-color: #fff; border-radius: 4px; min-height:100px; margin-bottom:16px;}

		#filters #total-hotels {font-weight:bold; font-size:12px; padding:0; margin:0;}
#filters > div {box-sizing: border-box; padding:8px; }
    #filters ul {list-style-type: none;}
    #filters .filter {border-top:solid 1px #ddd;}
    #filters  h2 {font-size:16px; font-weight:bold; margin:0 0 8px 0; padding:0;}
    #filters  h3 {font-size:14px; font-weight:bold; margin:0 0 12px 0; padding:0;}
    #filters  ul li {overflow:hidden; margin-bottom:4px;}
    #filters  ul li input[type="checkbox"] {float:left; width:16px; padding:0;}
    #filters  ul li label {float:left; width:calc(100% - 30px); padding:2px 0 0 0; font-size: 12px}
    #filters  ul.stars li {margin:0; padding:0;}
    #filters  ul.stars li input[type="checkbox"] {float:left; width:16px; margin-top:6px;}
    #filters  ul.stars li label {color:#d41200; font-size:16px; padding:0;}

    .card {padding:8px 8px 8px; overflow:hidden;}
    .card .thumb { width:250px; float:left;}
    .card .content {width:calc(100% - 250); float:left;}
    .card .thumb img {max-width: 100%}
    .card .thumb .qual {border-radius:4px; padding:4px 8px; background-color:#f5f4f0; margin-bottom:4px; color:#388E3C;}
    .badge {font-weight:bold;}

	</style>

	<div id="header-wrapper">

		<div id="header-content">
			<div style="overflow:hidden; margin-bottom:4px">
				<div class="phone link">0800 028 3906 | 020 3027 1427</div>
				<div style="float:right;">
					<span class="link">Rewards :: Hotel Deals</span>
					
					<span style="display:inline-block; padding:4px; background-color:#000;"><img src="currency.png" /></span>
					
				</div>
			</div>
			
			<div style="overflow:hidden;">
				<div style="height:100px; overflow:hidden; float:left;"><img src="https://a2.cdn-hotels.com/da/assets/s/41.0/images/brands/hcom/logos/logo_en_GB.png" style="height:100px"/></div>
				<div style="float:right;">
					<ul class="main-links">
						<li>Customer Service</li>
						<li>Your account</li>
					</ul>
				</div>
			</div>
			
		</div>
	</div>

	<!--<div id="tp-wrapper">
		<div id="tp-content">
			<div>Trip planner</div>
		</div>
	</div>-->

	<div id="sqm">
		<div class="field" style="width:400px">
			<label class="sqm">Destination, hotel, landmark or address</label>
			<input type="text" placeholder="--"/>
			<!--<input type="radio" />Business  <input type="radio" />Business-->
		</div>
		<div class="field" style="width:180px">
			<label class="sqm " >Check in</label>
			<input class="date" type="text" placeholder="--"/>
		</div>
		<div class="field" style="width:180px">
			<label class="sqm ">Check out</label>
			<input class="date" type="text"placeholder="--" />
		</div>
		<div class="field" style="width:200px">
			<label class="sqm">Rooms</label>
			<input type="text" placeholder="--" />
		</div>
		<div class="field" style="text-align:right">
			<button style="color:#026dc5; background-color:#fff; font-size:16px; padding:8px 16px; border:0; border-radius:4px; border-bottom: solid 2px #000"><i class="fa fa-search" aria-hidden="true"></i> Search</button>
		</div>
	</div>
	<!--<div id="tp-strip">Trip planner</div>-->

	<div id="page-wrapper">
		<div id="filters">
			<h2>Narrow results:</h2>
			<p>1234 hotels</p>
			<div>
				<h3>Name contains</h3>
				<input type="text">
			</div>
			<div>
				<h3>Price</h3>
				<img src="slider.png" />
			</div>
			<div>
				<h3>Star rating</h3>
				<ul class="stars">
					<li><input type="checkbox" /> &#9733&#9733&#9733&#9733&#9733</li>
					<li><input type="checkbox" /> &#9733&#9733&#9733&#9733</li>
					<li><input type="checkbox" /> &#9733&#9733&#9733</li>
					<li><input type="checkbox" /> &#9733&#9733</li>
					<li><input type="checkbox" /> &#9733</li>
				</ul>
			</div>
			<div>
				<h3>Guest rating</h3>
				<img src="slider.png" />
			</div>
			<div id="f-neighbourhoods"></div>
		</div>
		<div id="content">

		</div>
	</div>


<!-- TEMPLATES --> 

<script id="filters-neighborhoods" type="text/x-handlebars-template">
 	<h3>Neighbourhoods</h3>
 	<ul>
 		{{#each this}}
 		<li>
 			<input type="checkbox">
 			<label>{{title}}</label>
 		</li>
 		{{/each}}
 	</ul>			
</script>

<script id="filters-landmarks" type="text/x-handlebars-template">
 	<h3>Landmarks</h3>
 	<ul>
 		{{#each this}}
 		<li>
 			<input type="checkbox">
 			<label>{{title}}</label>
 		</li>
 		{{/each}}
 	</ul>			
</script>

<script id="hotel-cards" type="text/x-handlebars-template">
{{#each this}}
	<div class="card">
		<div class="thumb">
			
			<div class="qual">
				<i class="fa fa-comments" aria-hidden="true" style="display:inline-block; vertical-align:top;"></i> 
				<div style="display:inline-block; vertical-align:top;">
					<span class="badge">{{qualitativeBadgeText}}</span> {{guestReviewRating}}/5
					<span style="display:block; font-size:11px; margin-top:2px">{{numberOfGuestReviews}} verified Hotels.com guest reviews</span>
					<div style="font-size:11px; margin-top:4px"><img src="ta-score.png" style="height:16px;"/> 1,117 reviews</div>
				</div>
			</div>
			<img src="{{thumbnailUrl imageUrl}}" />
		</div>
		<div class="content">
			<div class="name"><a href="#">{{hotelName}}</a></div>
			<div class="address">{{address1}}</div>

		</div>
	</div>
{{/each}}
</script>
		


		<!-- Scripts -->
		<!-- JQuery Google CDN -->
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src="../handlebars.js"></script>

		<script type="text/javascript">
		var hotelData
			// run things on page load
			$(function(){

				$.getJSON( "../ny-json.js", function( data ) {
					hotelData = data; 
					console.log(hotelData); 
					displayFiltersNeighbourhoods(data.result.neighborhoods);
					displayHotelCards(data.result.hotels);

				});
      			
			});

			var displayFiltersNeighbourhoods = function (data){
				var source   = $("#filters-neighborhoods").html();
  				var template = Handlebars.compile(source);
  				$("#f-neighbourhoods").html(template(data));
			}

			var displayFiltersLandmarks = function (data){
				var source   = $("#filters-landmarks").html();
  				var template = Handlebars.compile(source);
  				$("#f-landmarks").html(template(data));
			}

			var displayHotelCards = function(data){
				var source   = $("#hotel-cards").html();
  				var template = Handlebars.compile(source);
  				$("#content").html(template(data));
			}

			Handlebars.registerHelper("thumbnailUrl", function(imageUrl){
				var thumb = imageUrl.replace("_b.jpg", "_l.jpg");
				return thumb;
			})

		</script>
	</body>
</html>