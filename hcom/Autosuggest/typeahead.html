<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Meta tags -->
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="mobile-web-app-capable" content="yes">

		<!-- style sheets -->
		<!--<link rel="stylesheet" type="text/css" href="reset.css">-->

		<!-- Scripts -->
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script type="text/javascript" src="typeahead.bundle.js"></script>
		<!--<script type="text/javascript" src="autosuggest.js"></script>-->

		<script type="text/javascript">

			// run things on page load
			$(function(){

				$('input').keyup(function(){
    				console.log($(this).val().length);
    				if ($(this).val().length >= 3){
    					console.log("turn off typeahead")
    					$('.typeahead').typeahead('close');
    				}
				});

				$('.typeahead').typeahead({
  					hint: true,
  					highlight: true,
  					minLength: 1
				},
				{
  					name: 'destinations',
  					displayKey: 'value',
  					source: substringMatcher(states)
				});
			});

			var substringMatcher = function(strs) {
          return function findMatches(q, cb) {
            var substringRegex;
 
            // an array that will be populated with substring matches
            matches = [];
 
            // regex used to determine if a string contains the substring `q`
            substrRegex = new RegExp( "^" + q, "i" );
 
            // iterate through the pool of strings and for any string that
            // contains the substring `q`, add it to the `matches` array
            $.each(strs, function(i, str) {
                //console.log(str);
                if (substrRegex.test(str)) {
                  // the typeahead jQuery plugin expects suggestions to a
                  // JavaScript object, refer to typeahead docs for more info
                  matches.push({ value: str });
                }
            });
          //console.log(matches)
          cb(matches);
          };
      };


var destinations = [
"Las Vegas",
"New York",
"London",
"Paris",
"Orlando",
"Tokyo",
"Miami Beach",
"Rome",
"Bangkok",
"San Francisco",
"Chicago",
"Barcelona",
"Dubai",
"Seoul",
"Osaka",
"Los Angeles",
"San Diego",
"New Orleans",
"Amsterdam",
"Taipei",
"Singapore",
"Berlin",
"Cancun",
"Washington",
"Honolulu",
"Istanbul",
"Hong Kong",
"Miami",
"San Antonio",
"Kissimmee",
"Fort Lauderdale",
"Boston",
"Venice",
"Anaheim",
"Madrid",
"Dublin",
"Stockholm",
"Myrtle Beach",
"Prague",
"Atlanta",
"Punta Cana",
"Lake Buena Vista",
"Kowloon",
"Nashville",
"Copenhagen",
"Pucusana",
"Houston",
"Toronto",
"Austin",
"Dallas",
"Seattle",
"Kyoto",
"Florence",
"Key West",
"Atlantic City",
"Phoenix",
"Milan",
"Rio de Janeiro",
"Niagara Falls",
"Lisbon",
"Denver",
"Tampa",
"Mexico City",
"Philadelphia",
"Vancouver",
"Melbourne",
"Hollywood",
"Sao Paulo",
"Hamburg",
"Pattaya",
"Portland",
"Panama City Beach",
"Vienna",
"Montreal",
"Munich",
"Budapest",
"Edinburgh",
"Sydney",
"Koh Samui",
"Busan",
"Kuala Lumpur",
"Savannah",
"Brussels",
"Palm Springs",
"Shanghai",
"Naples",
"Santorini",
"Marrakech",
"Manchester",
"San Juan",
"Puerto Vallarta",
"Arlington",
"Charleston",
"St. Petersburg",
"Buenos Aires",
"Gothenburg",
"Nice",
"Athens",
"St. Louis",
"Birmingham",
"Indianapolis",
"Scottsdale",
"San Jose",
"Oslo",
"Virginia Beach",
"Macau",
"Clearwater Beach",
"Charlotte",
"Antalya",
"Sharm El Sheikh",
"Columbus",
"Fukuoka",
"Monterey",
"Daytona Beach",
"Santa Monica",
"Reno",
"Taichung",
"Jacksonville",
"Helsinki",
"Chiang Mai",
"Baltimore",
"Quebec",
"Panama City",
"Brooklyn",
"Krabi",
"Santa Barbara",
"Walt Disney Worldï£¿ Resort",
"Frankfurt",
"Manila",
"Ho Chi Minh City",
"Kansas City",
"Beijing",
"Manhattan",
"Naha",
"Cabo San Lucas",
"Phuket",
"Cologne",
"Richmond",
"Liverpool",
"Minneapolis",
"Santiago",
"Moscow",
"Warsaw",
"Seville",
"Disneyland - Anaheim",
"Hua Hin",
"Boracay Island",
"Memphis",
"Krakow",
"Seminyak",
"Palma de Mallorca",
"Kaohsiung",
"Rhodes",
"Galveston",
"Glasgow",
"Benidorm",
"Long Beach",
"St. Augustine",
"Okinawa",
"Lyon",
"San Bartolome de Tirajana",
"Kuta (Bali)",
"Louisville",
"Albufeira",
"Sunny Isles Beach",
"Bali",
"Destin",
"Bloomington",
"Valencia",
"Salt Lake City",
"Sapporo",
"Seogwipo",
"Cambridge",
"Long Island City",
"Sarasota",
"Gatlinburg",
"Santa Cruz",
"Mumbai",
"Montego Bay",
"New Delhi",
"Newark",
"Cartagena",
"Bogota",
"North Myrtle Beach",
"Tucson",
"York",
"Biloxi",
"Dubrovnik",
"Sedona",
"Reykjavik",
"Guangzhou",
"Jakarta",
"Ocean City",
"Cape Town",
"Tamuning",
"Carlsbad",
"Mazatlan",
"Banff",
"Malaga"
]



			var states = ['Albufeira', 'Amsterdam', 'Anaheim', 'Antalya', 'Arlington',
  'Athens', 'Atlanta', 'Atlantic City', 'Austin', 'Bali', 'Baltimore',
  'Banff', 'Bangkok', 'Barcelona', 'Beijing', 'Benidorm', 'Berlin', 'Biloxi',
  'Birmingham', 'Bloomington', 'Bogota', 'Boracay Island', 'Boston',
  'Brooklyn', 'Brussels', 'Budapest', 'Buenos Aires', 'Busan', 'Cabo San Lucas',
  'Cambridge', 'Cancun', 'Cape Town', 'Carlsbad', 'Cartagena',
  'Charleston', 'Charlotte', 'Chiang Mai', 'Chicago', 'Clearwater Beach',
  'Cologne', 'Columbus', 'Copenhagen', 'Dallas', 'Daytona Beach', 'Denver',
  'Destin', 'Disneyland - Anaheim', 'Dubai', 'Dublin', 'Dubrovnik',
  'Edinburgh', 'Florence', 'Fort Lauderdale', 'Frankfurt', 'Fukuoka',
  'Galveston', 'Gatlinburg', 'Glasgow', 'Gothenburg', 'Guangzhou',
  'Hamburg', 'Helsinki', 'Ho Chi Minh City', 'Hollywood', 'Hong Kong', 'Honolulu',
  'Houston', 'Hua Hin', 'Kaohsiung', 'Key West','Kissimmee',
  'Koh Samui', 'Kowloon', 'Krabi', 'Krakow', 'Kuala Lumpur',
  'Kuta (Bali)', 'Kyoto', 'Lake Buena Vista', 'Las Vegas', 'Lisbon',
  'Liverpool', 'London', 'Long Beach', 'Long Island City', 'Los Angeles', 'Louisville',
  'Lyon', 'Macau', 'Madrid', 'Malaga','Manchester', 'Manhattan', 'Manila', 'Marrakech', 'Mazatlan', 'Melbourne',
  'Memphis', 'Mexico City', 'Miami', 'Miami Beach', 'Milan', 'Minneapolis',
  'Banff', 'Bangkok', 'Barcelona', 'Beijing', 'Benidorm', 'Berlin', 'Biloxi',
  'Birmingham', 'Bloomington', 'Bogota', 'Boracay Island', 'Boston',
  'Brooklyn', 'Brussels', 'Budapest', 'Buenos Aires', 'Busan', 'Cabo San Lucas',
  'Cambridge', 'Cancun', 'Cape Town', 'Carlsbad', 'Cartagena',
  'Charleston', 'Charlotte', 'Chiang Mai', 'Chicago', 'Clearwater Beach',
  'Cologne', 'Columbus', 'Copenhagen', 'Dallas', 'Daytona Beach', 'Denver',
  'Destin', 'Disneyland - Anaheim', 'Dubai', 'Dublin', 'Dubrovnik',
  'Edinburgh', 'Florence', 'Fort Lauderdale', 'Frankfurt', 'Fukuoka',
  'Galveston', 'Gatlinburg', 'Glasgow', 'Gothenburg', 'Guangzhou',
  'Hamburg', 'Helsinki', 'Ho Chi Minh City', 'Hollywood', 'Hong Kong', 'Honolulu',
  'Houston', 'Hua Hin', 'Kaohsiung', 'Key West','Kissimmee',
  'Koh Samui', 'Kowloon', 'Krabi', 'Krakow', 'Kuala Lumpur',
  'Kuta (Bali)', 'Kyoto', 'Lake Buena Vista', 'Las Vegas', 'Lisbon',
  'Liverpool', 'London', 'Long Beach', 'Long Island City', 'Los Angeles', 'Louisville',
  'Lyon', 'Macau', 'Madrid', 'Malaga','Manchester'
];

		</script>

	</head>

	<body>
		<input class="typeahead" placeholder="Where to?" autofocus style="border:solid 1px #ccc; padding:8px; font-size:16px"/>
	</body>
</html>
