<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
	html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td { margin:0; padding:0; border:0; outline:0; font-weight:inherit; font-style:inherit; font-size:100%; font-family:inherit; vertical-align:baseline; }

	ul { list-style:none; }
	ul.price, ul.facilities { margin-bottom:10px;}
	ul.price li, ul.facilities li {padding:5px 0; font-size:13px;}

      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0; font-family:arial; }
h1 {margin:0; padding:0; color:#fff;font-size:24px;}
h3 {padding:0; margin:0; font-size:16px;}
      #map_canvas { width:100%; }
	p {line-height:140%; padding:0; margin:0; margin-bottom:20px; font-size:13px;}
	a {text-decoration:none; color:#00f}
    </style>
    <script type="text/javascript"
      src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDGbEUwknHTaKmEpjwM-fRfJt7zbCZZtCI&sensor=false">
    </script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js"></script>
    <script type="text/javascript">

	var newYork = new google.maps.LatLng(40.76193, -73.97751);
	layer = new google.maps.FusionTablesLayer({
      query: {
        select: 'geometry',
        from: "3368106",
		suppressInfoWindows: true
      }
    });

      function initialize() {
	
		map = new google.maps.Map(document.getElementById('map_canvas'), {
	      center: newYork,
	      zoom: 12,
	      mapTypeId: 'roadmap',
		  mapTypeId: google.maps.MapTypeId.ROADMAP, 
		  panControl: false,
		  zoomControl: true,
		  zoomControlOptions: {
		        style: google.maps.ZoomControlStyle.SMALL,
		        position: google.maps.ControlPosition.TOP_RIGHT
		  }
	    }); 
	
        var myOptions = {
          center: new google.maps.LatLng(40.714550018310547,-74.007118225097656),
          zoom: 13,
          mapTypeId: google.maps.MapTypeId.ROADMAP, 
panControl: false,
		 zoomControl: true,
		    zoomControlOptions: {
		        style: google.maps.ZoomControlStyle.SMALL,
		        position: google.maps.ControlPosition.TOP_RIGHT
		    },
        };
        //var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
		layer.setMap(map);
      }

	function updateMap(aQuery){

		layer.query.where = aQuery;

	    layer.setMap(map);

	  }
	
	$(document).ready(function () {

		$("a#mapchange").click(function(e){
			e.preventDefault();
			aQuery = $(this).attr("rel")
			updateMap(aQuery);
			$("a#mapchange").css("color","#00f");
			$(this).css("color", "red");
		});
		
		$("#search_canvas a").on("click", function(e){
			e.preventDefault();
			$("#search_canvas").hide();
			$("#map_canvas").show();
			$("#search-criteria").slideDown();
			initialize();
			
			
		});
		
		$('.filters').hover(function(){
		     $(".filter-tools").stop(1).slideDown();
		  },function(){
		     $(".filter-tools").stop(1).slideUp();
		 });


	  });
    </script>

	<style type="text/css">
	.filter {padding:10px; border-bottom:dotted 1px #ccc;}
	</style>

  </head>
  


<body onload="">
	<div style="height:50px; background-color:#900; padding:6px 0 0 0px;">
		<h1 style="margin-left:30px;">Header</h1></div>
		<div id="search_canvas" style="position:absolute; top: 55px; bottom:30px; width:100%">
			
			<div style="position:absolute; top:50%; left:50%; height:10%; width:40%; margin:-5% 0 0 -20%;">
				<label>Where do you want to go?</label><br />
				<input type="text" style="width:400px; padding:6px; font-size:14px;"/>
				<a href="#">Search</a>
			</div>
		</div>
    <div id="map_canvas" style="position:absolute; top: 50px; bottom:30px; display:none; "></div>

	<div id="search-criteria" style="position:absolute; top:60px; left:10px; width:200px; background-color:#fff; padding:0px; z-index:100;-moz-box-shadow: 0 0 5px #888;
	-webkit-box-shadow: 0 0 5px#888;
	box-shadow: 0 0 5px #888; display:none;">
	<div style="padding:10px; border-bottom:dotted 1px #ccc;">
	<h2>New York</h2>
	<p style="padding:0; margin:0; font-size:12px;">
		12 Nov - 13 Nov (1 night)<br />
		1 adult 0 children<br />
	</p>
	</div>
	<div class="filter">
		<h3 style="font-size:14px;">15 min walk to Wall Street</h3>
		<p style="font-size:12px; padding:0; margin:0; display:none">
			show filter option
		</p>
	</div>
		<div class="filter">
			<h3 style="font-size:14px;">Under $380</h3>
			<p style="font-size:12px; padding:0; margin:0; display:none">
				show slider tools
			</p>
		</div>
		
		<div class="filter">
			<h3 style="font-size:14px;">4 stars and over</h3>
			<p style="font-size:12px; padding:0; margin:0; display:none">
				show filter option
			</p>
		</div>
		
	
	

	</div>
	

	<div style="position:absolute; bottom:0; height:30px; background-color:#eae8e0; width:100%; padding:8px 0 0 0;"><span style="margin-left:30px;">Footer</span></div>
  </body>
</html>